{%
local ck = require "resty.cookie"
local cookie, err = ck:new()
if not cookie then
ngx.log(ngx.ERR, err)
return
end
local lang, err = cookie:get("lang")
if not lang then
lang="cn"
local param = { key = "lang", value = lang, path = '/', max_age = 60 * 60 * 24 * 365 }
cookie:set(param)
end

--lang="cn"
--local param = { key = "lang", value = lang, path = '/', max_age = 60 * 60 * 24 * 365 }
--cookie:set(param)

context.lang = lang
context.otherLang = lang == "en" and "cn" or "en"
%}
<meta charset="utf-8">
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="{{param[lang..'_desc']}}"/>
<meta name="keywords" content="{{param[lang..'_keywords']}}"/>
<link rel="shortcut icon" href="/favicon.ico?v=1.0.3">
<link rel="stylesheet" href="{+resources+}/dist/css/common/reset.css?v={+version+}">
<link rel="stylesheet" href="{+resources+}/dist/css/common/style.css">
<script src="{+resources+}/dist/js/angular.min.js?v=1.0.0"></script>
<script src="{+resources+}/dist/js/pako.js?v={{version}}"></script>

<style type="text/css">
    [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak, .ng-hide {
        display: none !important;
    }

    ng\:form {
        display: block;
    }

    .ng-animate-block-transitions {
        transition: 0s all !important;
        -webkit-transition: 0s all !important;
    }

    .ng-hide-add-active, .ng-hide-remove {
        display: block !important;
    }</style>
<link rel="stylesheet" type="text/css" href="{+resources+}/dist/css/nance//global.css">
<link rel="stylesheet" type="text/css" href="{+resources+}/dist/css/nance//trade.css">
<meta name="renderer" content="webkit">
<link rel="stylesheet" href="{+resources+}/dist/css/nance//layer.css">
<link rel="stylesheet" href="{+resources+}/dist/css/nance/myLayer.css">
<link rel="stylesheet" href="{+resources+}/dist/css/nance/style.css">
<link rel="stylesheet" href="{+resources+}/dist/css/app.css">

