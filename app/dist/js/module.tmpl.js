(function(b){var a=function(e,d){var c=!/[^\w\-\.:]/.test(e)?a.cache[e]=a.cache[e]||a(a.load(e)):new Function(a.arg+",tmpl","var _e=tmpl.encode"+a.helper+",_s='"+e.replace(a.regexp,a.func)+"';return _s;");return d?c(d,a):function(f){return c(f,a)}};a.cache={};a.load=function(c){return document.getElementById(c).innerHTML};a.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g;a.func=function(d,h,g,f,e,c){if(h){return{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[h]||"\\"+h}if(g){if(g==="="){return"'+_e("+f+")+'"}return"'+("+f+"==null?'':"+f+")+'"}if(e){return"';"}if(c){return"_s+='"}};a.encReg=/[<>&"'\x00]/g;a.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"};a.encode=function(c){return(c==null?"":""+c).replace(a.encReg,function(d){return a.encMap[d]||""})};a.arg="rs";a.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}";if(typeof define==="function"&&define.amd){define(function(){return a})}else{b.tmpl=a}}(this));